(this.webpackJsonpreact_web_app=this.webpackJsonpreact_web_app||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(54),c=n.n(i),o=(n(65),n(66),n.p,n(67),n(68),n(69),n(132)),r=n(133),l=n(134),d=n(156),p=n(136),b=n(137),h=n(138),u=n(139),j=n(140),m=n(3),x=function(){return Object(m.jsx)(o.a,{render:function(e){var t=e.isSideNavExpanded,n=e.onClickSideNavExpand;return Object(m.jsxs)(r.a,{children:[Object(m.jsx)(l.a,{}),Object(m.jsx)(d.a,{"aria-label":"Open menu",onClick:n,isActive:t}),Object(m.jsx)(p.a,{href:"/",prefix:"Code Pattern",children:"Authenticate your Chatbot"}),Object(m.jsx)(b.a,{"aria-label":"Side navigation",expanded:t,isPersistent:!1,children:Object(m.jsx)(h.a,{})}),Object(m.jsx)(u.a,{style:{padding:"0"},children:Object(m.jsx)(j.a,{href:"#section2",children:"Purchase Policy"})}),Object(m.jsx)(u.a,{style:{padding:"0"},children:Object(m.jsx)(j.a,{href:"#section3",children:"Display Users"})})]})}})},g=n(8),y=n(59),O=n(15),f=n(34),v=n(35),w=n(38),_=n(37),C=n(155),N=n(152),S=n(143),k=n(153),T=n(151),M=n(158),I=n(144),A=n(145),U=n(157),D=n(141),B=n(146),R=n(147),P=n(148),E=n(154),L=n(149),F=n(150),H=(n(73),n(25)),W=n.n(H),J=n.p+"static/media/sampleImage1.d45b7ab0.jpg",z=n(32),q=function(e){var t=e.type,n=e.text;return"bot"===t?Object(m.jsx)("div",{className:"chat-message chat-message--bot",children:Object(m.jsx)("p",{className:"ibm-type-c",children:n})}):"user"===t?Object(m.jsx)("div",{className:"chat-message chat-message--anchor-right",children:Object(m.jsx)("p",{className:"chat-message--user ibm-type-b",children:n})}):"option"===t?Object(m.jsx)("div",{className:"chat-option",children:Object(m.jsx)("button",{type:"button",className:"chat-option__button chat-option__button--selected",disabled:!0,children:n})}):null};q.defaultProps={text:""};var G=q,X=function(e){var t=e.option,n=e.onUserInput,a=e.isSelected,s="ibm-type-b chat-option__button ".concat(a?"chat-option__button--selected":"");return Object(m.jsx)("button",{type:"button",className:s,disabled:a,onClick:function(){n(t)},children:t.label})};X.defaultProps={isSelected:!1};var V=X,Q=n.p+"static/media/arrow-right.ab0a4336.svg",Y=n.p+"static/media/arrow-left.42ca3b46.svg",$=n.p+"static/media/circle-arrow-right.00eca9bb.svg",K=n.p+"static/media/code.73087e31.svg",Z=n.p+"static/media/grid.e2b0d51d.svg",ee=n.p+"static/media/restart.876928f7.svg",te=n.p+"static/media/share.b570beb6.svg",ne=n.p+"static/media/calendar.579ad9f7.svg",ae=n.p+"static/media/credit-card.004347f6.svg",se=function(e){var t=e.type,n=e.size;switch(t){case"arrow-right":return Object(m.jsx)(Q,{width:n,height:n});case"arrow-left":return Object(m.jsx)(Y,{width:n,height:n});case"circle-arrow-right":return Object(m.jsx)($,{width:n,height:n});case"code":return Object(m.jsx)(K,{width:n,height:n});case"path":return Object(m.jsx)(Z,{width:n,height:n});case"restart":return Object(m.jsx)(ee,{width:n,height:n});case"share":return Object(m.jsx)(te,{width:n,height:n});case"calendar":return Object(m.jsx)(ne,{width:n,height:n});case"credit-card":return Object(m.jsx)(ae,{width:n,height:n});default:return Object(m.jsx)(K,{width:n,height:n})}},ie=function(e){var t=e.onUserInput,n=e.cardName,a=e.description,s=e.isSelected,i="credit-card-option image-card ".concat(s?"image-card--selected credit-card-option--selected":"");return Object(m.jsxs)("button",{type:"button",className:i,onClick:function(){t(n)},children:[Object(m.jsxs)("div",{className:"credit-card-option__image",children:[Object(m.jsx)(se,{size:120,type:"credit-card"}),Object(m.jsx)("div",{})]}),Object(m.jsxs)("div",{className:"image-card__content credit-card-option__content",children:[Object(m.jsx)("p",{className:"ibm-type-b ibm-type-semibold",children:n}),Object(m.jsx)("p",{className:"ibm-type-a",children:a}),Object(m.jsx)("p",{className:"ibm-type-a credit-card-option__link",children:"Learn More \u2192"})]})]})};ie.defaultProps={isSelected:!1};var ce=ie,oe=function(e){var t=e.options,n=e.onUserInput;return e.isSelected?Object(m.jsx)(G,{type:"user",text:t[0].label}):Object(m.jsx)("ul",{children:t.map((function(e){return Object(m.jsx)("li",{className:"chat-option-item",role:"presentation",onClick:function(){n(e)},children:e.label})}))})};oe.defaultProps={isSelected:!1};var re=oe,le=function(e){Object(w.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).state={options:[]},a}return Object(v.a)(n,[{key:"componentWillMount",value:function(){this.setState({options:this.props.options})}},{key:"optionSelect",value:function(e){this.setState({options:[Object.assign(e,{isSelected:!0})]}),this.props.onUserInput("option",e.value.input.text)}},{key:"render",value:function(){var e=this,t=this.props.isLastMessage||this.state.options[0].isSelected?this.state.options:[];return"creditCard"===this.props.type?Object(m.jsx)("div",{children:t.map((function(t){return Object(m.jsx)(ce,{cardName:t.cardName,description:t.description,onUserInput:function(t){e.onUserInput(t)}})}))}):"button"===this.props.type?Object(m.jsx)("div",{className:"chat-option-list",children:t.map((function(t){return Object(m.jsx)(V,{option:t,onUserInput:function(t){e.optionSelect(t)},isSelected:t.isSelected},t.value.input.text)}))}):"list"===this.props.type?Object(m.jsx)("div",{className:"chat-option-list",children:Object(m.jsx)(re,{options:t,onUserInput:function(t){e.optionSelect(t)},isSelected:this.state.options[0].isSelected})}):null}}]),n}(s.a.Component),de=function(e){var t=e.balance,n=e.minPay,a=e.recPay,s=e.accountId,i=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),c=i.format(t),o=i.format(n),r=i.format(a);return Object(m.jsxs)("div",{className:"balance-card",children:[Object(m.jsxs)("div",{className:"balance-card__header ibm-padding",children:[Object(m.jsx)("p",{className:"ibm-type-c ibm-type-semibold",children:"Remaining Statement Balance"}),Object(m.jsx)("p",{className:"ibm-type-c ibm-type-semibold",children:c})]}),Object(m.jsxs)("div",{className:"balance-card__content",children:[Object(m.jsx)("div",{className:"balance-card__item",children:Object(m.jsxs)("p",{children:["Account ending in",s]})}),Object(m.jsxs)("div",{className:"balance-card__item",children:[Object(m.jsx)("p",{children:"Minimum payment due"}),Object(m.jsx)("p",{children:o})]}),Object(m.jsxs)("div",{className:"balance-card__item",children:[Object(m.jsx)("p",{children:"Recent payments"}),Object(m.jsx)("p",{children:r})]})]})]})};de.defaultProps={minPay:0};var pe=de,be=function(e){var t=e.zip,n=e.apptDate,a=e.apptTime;return Object(m.jsxs)("div",{className:"appt-card chat-item",children:[Object(m.jsxs)("div",{className:"appt-card__header",children:[Object(m.jsxs)("div",{className:"appt-card__address",children:[Object(m.jsx)("p",{children:"Local Bank"}),Object(m.jsx)("p",{children:"132 14th Ave."}),Object(m.jsxs)("p",{children:["Local Town",t]})]}),Object(m.jsx)(se,{type:"calendar",size:24})]}),Object(m.jsxs)("div",{className:"appt-card__content",children:[Object(m.jsx)("p",{children:n}),Object(m.jsx)("p",{children:a}),Object(m.jsx)("p",{children:"With Emma Banker"})]})]})},he=n.p+"static/media/linda.01c0b3f6.png",ue=function(e){var t=e.time;return Object(m.jsxs)("div",{className:"image-card agent-card",children:[Object(m.jsx)("div",{className:"image-card__image agent-card__image",style:{backgroundImage:"url(".concat(he,")")},children:Object(m.jsx)("div",{})}),Object(m.jsx)("div",{className:"image-card__content agent-card__content",children:Object(m.jsxs)("p",{className:"ibm-type-c",children:["Your chat history, started at",t,", has been transferred to Emma Banker."]})})]})},je=function(e){var t=e.startDate,n=e.endDate;return Object(m.jsxs)("div",{className:"balance-card",children:[Object(m.jsxs)("div",{className:"balance-card__header",children:[Object(m.jsx)("p",{className:"ibm-type-c ibm-type-semibold",children:"Statement Period:"}),Object(m.jsxs)("p",{className:"ibm-type-c ibm-type-semibold",children:[t,"-",n]})]}),Object(m.jsxs)("div",{className:"balance-card__content",children:[Object(m.jsx)("div",{className:"balance-card__item",children:Object(m.jsx)("p",{children:"Card ending -23300"})}),Object(m.jsxs)("div",{className:"balance-card__item",children:[Object(m.jsx)("p",{children:"Balance"}),Object(m.jsx)("p",{children:"$1,564.23"})]}),Object(m.jsxs)("div",{className:"balance-card__item",children:[Object(m.jsx)("p",{children:"Minimum Payment Due"}),Object(m.jsx)("p",{children:"$90.00"})]}),Object(m.jsxs)("div",{className:"balance-card__item",children:[Object(m.jsx)("p",{children:"Payment due date"}),Object(m.jsx)("p",{children:"10/16/17"})]})]})]})},me="IN_PROGRESS",xe="COMPLETE",ge="FAILED",ye=n.p+"static/media/map-bank.11ce1c73.png";function Oe(e){return e.includes("map-bank.png")?ye:""}var fe=function(e){var t=e.url;return Object(m.jsx)("img",{src:Oe(t),width:"300",alt:t})},ve=function(e){var t=e.res;return Object(m.jsx)("div",{children:t.slice(0,3).map((function(e){return Object(m.jsxs)("div",{id:"search-div",className:"search-item",children:[Object(m.jsx)("strong",{children:e.title}),Object(m.jsx)("br",{}),e.body.length>200?"".concat(e.body.substring(0,197),"..."):e.body,Object(m.jsx)("br",{}),Object(m.jsx)("a",{href:"/search?id=".concat(e.id),target:"_blank",rel:"noopener noreferrer",children:"Full Document"}),Object(m.jsx)("div",{id:e.id,hidden:!0,children:e.body})]})}))})};function we(e,t){for(var n=!0,a=e;a<t.length&&!0===n;a+=1)"user"===t[a].type&&(n=!1);return n}var _e=function(e){var t=e.messages,n=e.onUserInput,a=e.botMessageStatus===me?"ibm-lg-col-4 ibm-padding chat-list chat-list--loading":"ibm-lg-col-4 ibm-padding chat-list";return Object(m.jsxs)("div",{id:"chat-list",className:a,style:{height:"60vh"},children:[t.map((function(e,a){switch(e.type){case"option":return"list"===e.display?Object(m.jsx)(le,{type:"list",options:e.content,onUserInput:n,isLastMessage:we(a,t)}):Object(m.jsx)(le,{type:"button",options:e.content,onUserInput:n,isLastMessage:we(a,t)});case"balance":return Object(m.jsx)(pe,{balance:e.content["Total Balance"],recPay:e.content["Payment Amount"],accountId:e.content.Account});case"appointment":return Object(m.jsx)(be,{zip:e.content.address,apptDate:e.content.date,apptTime:e.content.time,reason:"this is a test"});case"agent":return Object(m.jsx)(ue,{time:e.content});case"creditCard":return Object(m.jsx)(le,{type:"creditCard",options:e.content,isLastMessage:we(a,t)});case"statement":return Object(m.jsx)(je,{startDate:e.content.startingDate,endDate:e.content.endingDate});case"image":return Object(m.jsx)(fe,{url:e.content});case"search":return Object(m.jsx)(ve,{res:e.content});default:return Object(m.jsx)(G,{type:e.type,text:e.content})}})),Object(m.jsx)("div",{className:"chat-list__loader",children:Object(m.jsxs)("p",{className:"ibm-type-c",children:["\xa0",Object(m.jsx)("span",{})]})}),Object(m.jsx)("div",{id:"chat-list-bottom",children:"\xa0"})]})},Ce=function(e){var t=e.messages,n=e.onUserInput,a=e.botMessageStatus;return Object(m.jsxs)("div",{className:"ibm-col-lg-13 ibm-col-md-6 ibm-col-sm-4 chat-container",style:{paddingLeft:"2rem"},children:[Object(m.jsx)("div",{className:"ibm-lg-col-4 ibm-padding chat-container__header",children:Object(m.jsx)("p",{className:"ibm-type-a",children:"Watson Assistant"})}),Object(m.jsx)("div",{id:"chat-container__list-wrapper",className:"chat-container__list-wrapper",children:Object(m.jsx)(_e,{messages:t,onUserInput:n,botMessageStatus:a})}),Object(m.jsx)("div",{className:"ibm-lg-col-4 ibm-padding chat-container__input",children:Object(m.jsx)(z.InputWithButton,{id:"input_field",onSubmit:function(e){n("user",e.target.value),e.target.value=""},placeholder:"Type here..."})})]})};Ce.defaultProps={botMessageStatus:null};var Ne=Ce,Se=function(e,t,n){window.bluemixAnalytics&&window.bluemixAnalytics.trackEvent("Custom Event",{productTitle:window.digitalData.page.pageInfo.productTitle,action:e,objectType:t,object:n})},ke=n(42),Te=n.n(ke),Me=n(55),Ie=null;function Ae(e,t,n,a){var s={url:"".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"/api/message"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{session_id:Ie,input:{text:e},context:t,isFirstCall:n}};W()(s).then((function(e){console.log(e),a(null,e)})).catch((function(e){console.log(e)}))}var Ue=function(e,t,n,a,s){a&&(Ie=null),null===Ie?function(e){fetch("".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"/api/session"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){t.json().then((function(t){t.code?e(t):(Ie=t.result.session_id,e(null))}))})).catch((function(t){e(t)}))}(function(){var a=Object(Me.a)(Te.a.mark((function a(i){return Te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i&&(console.log("ERROR ".concat(JSON.stringify(i))),s(i)),Ae(e,t,n,s);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()):Ae(e,t,n,s)},De=function(e){return Object.keys(e).map((function(t){switch(t){case"cc_displaystatement":return{type:"balance",content:e.cc_displaystatement};case"appointment_display":return{type:"appointment",content:e.appointment_display};case"connect_agent":return{type:"agent",content:(new Date).toLocaleTimeString("en-US")};case"cc_selecteddisplay":var n=e.cc_selecteddisplay.CardCriteria;return{type:"creditCard",content:[{id:0,value:"Travel Rewards",cardName:"Travel Rewards",description:"$150 online cash rewards bonus offer"},{id:1,value:"Saving",cardName:"The Mega Saver",description:"Save on interest to help pay down your balance faster"},{id:2,value:"Credit Level",cardName:"Mega Credit Card",description:"For users with good credit."},{id:3,value:"Cash Rewards",cardName:"The Ultimate Cash Back Card",description:"Get the most cash back for your purchases"},{id:4,value:"General Rewards",cardName:"The Balanced Rewards Card",description:"Just the right amount of all rewards"}].filter((function(e){return n.includes(e.value)}))};case"statement_display":return{type:"statement",content:e.statement_display};case"notification_display":return{type:"notification",text:e.notification_display.DisplayText,link:e.notification_display.DisplayURL?e.notification_display.DisplayURL:null};default:return null}}))};n(122).polyfill();var Be=function(e){Object(w.a)(a,e);var t=Object(_.a)(a);function a(){var e,i;return Object(f.a)(this,a),(i=t.call(this)).getTable=function(){W.a.get("".concat(i.state.dbUrl,"/api/v1.0/listusers")).then((function(e){var t=Object.keys(e.data[0]).filter((function(e){return"id"!==e})).map((function(t){"premium_date"===t&&(e.data=e.data.map((function(e){var n=e[t].split("/"),a=new Date(n[2],n[1],n[0]);return console.log(a),e[t]=a.getDate()+"/XX/"+a.getFullYear(),e}))),"policy_no"!==t&&"phone_no"!==t&&"address"!==t||(e.data=e.data.map((function(e){return console.log(e[t]),"phone_no"===t&&(e[t]=e[t].toString()),e[t]=e[t].slice(0,5)+"XXXXX",e})));for(var n=t.split("_"),a=0;a<n.length;a++)n[a]=n[a].charAt(0).toUpperCase()+n[a].substring(1);return n.join(" ")}));i.setState({data:e.data,headers:t,loading:!1,table:!0})})).catch((function(e){i.setState({loading:!1,table:!1}),console.log("error",e)}))},i.handleChange=function(e){!0===i.state["invalid"+e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1)]&&i.setState(Object(O.a)({},"invalid"+e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1),!1));var t=e.target,n=t.name,a=t.value;i.setState(Object(O.a)({},n,a))},i.handleSubmit=function(){if(""===i.state.name||""===i.state.phone||""===i.state.address)return""===i.state.name&&i.setState({invalidName:!0}),""===i.state.phone&&i.setState({invalidPhone:!0}),void(""===i.state.address&&i.setState({invalidAddress:!0}));i.setState({loading:!0});var e=Math.floor(10*Math.random()),t=e<i.state.phone.length-3?e:e-3,a=i.state.name.substring(0,3).toUpperCase()+i.state.phone.substring(t,t+3)+(new Date).getTime()%1e5,s=new Date,c=new Date(s.setMonth(s.getMonth()+i.state.dateAdd)),o=c.getDate()+"/"+(c.getMonth()+1)+"/"+s.getFullYear();i.setState({policy:a,premiumDate:o}),console.log(a,o);var r=n(25),l=JSON.stringify({name:i.state.name,phone_no:Number(i.state.code+i.state.phone),policy_no:a,premium_date:o,premium_amount:i.state.amount*i.state.dateAdd,address:i.state.address});r({method:"post",url:"".concat(i.state.dbUrl,"/api/v1.0/registeruser"),headers:{"Content-Type":"application/json"},data:l}).then((function(e){console.log(e),!0===e.data.flag?i.setState({loading:!1,success:!0,sameNumber:!1,modalOpen:!1}):i.setState({loading:!1,success:!0,sameNumber:!0,modalOpen:!1}),i.getTable(),i.section1.current.scrollIntoView()})).catch((function(e){console.log("error",e)}))},i.initBot=function(){i.updateMessageStatus(me),Ue("","",i.firstCallVal,!1,(function(e,t){if(console.log(t),e||void 0===t)throw i.updateMessageStatus(ge),i.updateChatList({type:"bot",content:"I'm having trouble connecting to the server, please refresh the page."}),new Error(e||t);i.updateMessageStatus(xe),console.log("here"),i.botMessageHandler(t.data),i.updateOptionsSidebar(JSON.stringify(t.data)),i.updateConversationContext(t.data.result.context)}))},i.parseNonGenericResponsesFromBotOutput=function(e){var t=[];return e.forEach((function(e){if("title"===e.response_type)t.push({type:"bot",content:e.text});else if("option"===e.response_type){t.push({type:"bot",content:e.title});var n="text";void 0!==e.preference&&(n=e.preference);var a={type:"option",display:"list",content:e.options};"button"===n&&(a.display="button"),t.push(a)}else"pause"===e.response_type?t.push({type:e.response_type,time:e.time,typing:e.typing}):"text"===e.response_type?""!==e.text&&t.push({type:"bot",content:e.text}):"image"===e.response_type?t.push({type:"image",content:e.source}):"search"===e.response_type&&(t.push({type:"bot",content:e.header}),t.push({type:e.response_type,content:e.results}))})),t},i.firstCallVal=null,i.section1=s.a.createRef(),i.section2=s.a.createRef(),i.section3=s.a.createRef(),i.state=(e={messages:[{type:"bot",content:"Hello, I'm your personal Insurance Assistant. How can I help you?"},{type:"option",title:"User Type",content:[{label:"New User",value:{input:{text:"New User"}}},{label:"Existing User",value:{input:{text:"Existing User"}}},{label:"Display Users",value:{input:{text:"Display Users"}}}]}],name:"",phone:"",policy:"",address:"",modalOpen:!1,payment:"monthly",dateAdd:1,amount:""},Object(O.a)(e,"policy",""),Object(O.a)(e,"invalidAddress",!1),Object(O.a)(e,"invalidName",!1),Object(O.a)(e,"invalidPhone",!1),Object(O.a)(e,"loading",!0),Object(O.a)(e,"success",!1),Object(O.a)(e,"code","91"),Object(O.a)(e,"table",!1),Object(O.a)(e,"sameNumber",!1),e),i}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;W.a.get("".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"/dbUrl")).then((function(t){var n="";"/"===t.data.slice(-1)?(n=t.data.slice(0,-1),e.setState({dbUrl:n})):(n=t.data,e.setState({dbUrl:n})),e.getTable()})).catch((function(e){alert("Authentication is required to continue"),window.location.replace("".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"/auth")),console.log(e)}))}},{key:"userMessageHandler",value:function(e,t){if(Se("Sent Message","TextInput","Chat TextInput"),""!==t.trim()){if("option"!==e&&this.updateChatList({type:"user",content:t}),"New User"===t)return window.location.replace("".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"#section2")),void this.initBot();if("Existing User"===t)return void this.initBot();if("Display Users"===t){if(!0===this.state.table)window.location.replace("".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"#section3"));else{this.state.messages;this.updateChatList({type:"bot",content:"Sorry, No users are registered at the moment."})}return void this.initBot()}this.sendMessageToConversation(t,this.state.lastMessageContext)}}},{key:"updateConversationContext",value:function(e){this.setState({lastMessageContext:e})}},{key:"updateMessageStatus",value:function(e){this.setState({botMessageStatus:e})}},{key:"sendMessageToConversation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.updateMessageStatus(me),Ue(e,n,this.firstCallVal,!1,(function(e,n){if(console.log(n),e||void 0===n)throw t.updateMessageStatus(ge),t.updateChatList({type:"bot",content:"I'm having trouble connecting to the server, please refresh the page."}),new Error(e||n);t.updateMessageStatus(xe),console.log("here"),t.botMessageHandler(n.data),t.updateOptionsSidebar(JSON.stringify(n.data)),t.updateConversationContext(n.data.result.context)}))}},{key:"botMessageHandler",value:function(e){var t=this,n=e.result;console.log(n);var a=!1,s=[];(void 0!==n.output.generic&&(s=s.concat(this.parseNonGenericResponsesFromBotOutput(n.output.generic))),n.output.actions&&n.output.actions.length>0)&&(console.log(JSON.stringify(n.actions,null,2)),n.output.actions.forEach((function(e){(function(e){var t,n;switch(e.name){case"ValidateAcc":t="/bank/validate",n=e.parameters.chosen_acc;break;case"RetrieveZip":t="bank/locate",n=e.parameters.zip_value;break;case"ShowStatement":t="bank/statement",n='"'.concat(e.parameters.statement_date,'"');break;default:return null}var a="".concat(t,"?value=").concat(n);return new Promise((function(e,t){fetch(a,{method:"GET",headers:{Accept:"application/json"}}).then((function(t){t.json().then((function(t){e(t)}))})).catch((function(e){t(new Error(e))}))}))})(e).then((function(e){if(void 0===n.context)t.sendMessageToConversation(e.result);else if("statement"===e.result){var a=De({statement_display:e.dates});s.push(a)}}))})));void 0!==n.output.user_defined&&void 0!==n.output.user_defined.action&&De(n.output.user_defined.action).forEach((function(e){"notification"!==e.type?s.push(e):(a=!0,t.displayNotification(e.text,e.link))}));void 0!==n.output.user_defined&&void 0!==n.output.user_defined.ui_action&&De(n.output.user_defined.ui_action).forEach((function(e){"notification"!==e.type?(console.log(JSON.stringify(e)),s.push(e)):(a=!0,t.displayNotification(e.text,e.link))}));!a&&"context"in n&&"system"in n.context&&"digressed"in n.context.system&&this.displayNotification("The virtual assistant is able to answer an unrelated question and return back to the original flow using the Digressions feature."),this.iterateResponese(s,0)}},{key:"updateOptionsSidebar",value:function(e){this.setState({lastMessageJson:e})}},{key:"iterateResponese",value:function(e,t){var n=this;if(t<e.length){var a=e[t];if("pause"!==a.type)this.updateChatList(a),this.iterateResponese(e,t+1);else{var s=document.getElementById("input_field");a.typing&&(s.placeholder="Watson is typing..."),setTimeout((function(){s.placeholder="Type here...",n.iterateResponese(e,t+1)}),a.time)}}}},{key:"updateChatList",value:function(e){var t=document.getElementById("chat-list");this.setState({messages:[].concat(Object(y.a)(this.state.messages),[e])},(function(){"user"!==e.type&&setTimeout((function(){t.scroll({top:t.scrollHeight,behavior:"smooth"}),t.scrollTop=t.scrollHeight-t.clientHeight}),100)}))}},{key:"render",value:function(){var e=this,t=[{id:"option-0",text:"Health Insurance",base:"4500",policy:"healthInsurance"},{id:"option-1",text:"Car Insurance",base:"5500",policy:"carInsurance"},{id:"option-2",text:"Property Insurance",base:"6500",policy:"propertyInsurance"}];return this.state.loading?Object(m.jsx)("div",{children:Object(m.jsx)(D.a,{})}):Object(m.jsxs)("div",{className:"bx--grid bx--grid--full-width landing-page",style:{padding:"0",justifyContent:"center",alignItems:"center",backgroundColor:"rgb(38,38,38)"},children:[Object(m.jsxs)("div",{className:"bx--row landing-page__banner",id:"section1",ref:this.section1,style:{padding:"2rem",justifyContent:"center",height:"10rem",backgroundColor:"rgb(61,61,61)"},children:[Object(m.jsxs)("div",{className:"bx--col-lg-10 bx--offset-lg-2",children:[Object(m.jsx)("h1",{className:"landing-page__heading",style:{color:"white"},children:"Welcome to Sample Insurance Company"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{style:{color:"white"},children:"Interact with the Watson Assistant to know details about your policy."}),Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:"bx--col-lg-4 ",style:{paddingTop:"0"},children:Object(m.jsx)("div",{style:{display:this.state.success?"":"none"},children:Object(m.jsx)(C.a,{lowContrast:!1,kind:this.state.sameNumber?"error":"success",iconDescription:"Close",caption:this.state.sameNumber?"Kindly use another number. ":"To know more about policy, ask Watson Assistant.",style:{minWidth:"25rem",marginBottom:"1rem"},subtitle:this.state.sameNumber?Object(m.jsx)("span",{kind:"success",children:"This phone number already exists."}):Object(m.jsx)("span",{kind:"success",children:"An SMS has been sent to your registered phone number with policy details. "}),title:this.state.sameNumber?"Error while Registering":"Successfully Registered"})})})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"bx--row",children:Object(m.jsx)("div",{className:"bx--col-lg-8 bx--offset-lg-2",style:{maxHeight:"60rem"},children:Object(m.jsx)(Ne,{messages:this.state.messages,chatOptions:this.state.chatOptions,onUserInput:function(t,n){e.userMessageHandler(t,n)},botMessageStatus:this.state.botMessageStatus})})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{style:{padding:"3rem"}}),Object(m.jsxs)("div",{id:"section2",ref:this.section2,style:{height:"100vh",paddingTop:"3rem"},children:[Object(m.jsxs)("div",{className:"bx--row landing-page__banner",style:{padding:"2rem",justifyContent:"center",height:"10rem",backgroundColor:"rgb(61,61,61)"},children:[Object(m.jsxs)("div",{className:"bx--col-lg-10 bx--offset-lg-2",children:[Object(m.jsx)("h1",{className:"landing-page__heading",style:{color:"white"},children:"Buy a new Policy"}),Object(m.jsx)("p",{style:{color:"white"},children:"Choose from the options available below."})]}),Object(m.jsx)("div",{className:"bx--col-lg-4 ",style:{paddingTop:"0"}})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"bx--row",style:{paddingTop:"6rem",paddingBottom:"6rem"},children:[Object(m.jsx)(N.a,{open:this.state.modalOpen,modalHeading:"New User",modalLabel:"Register",primaryButtonText:"Submit",onRequestSubmit:this.handleSubmit,onRequestClose:function(){e.setState({modalOpen:!1})},onSecondarySubmit:function(){e.setState({modalOpen:!1})},secondaryButtonText:"Cancel",size:"sm",children:Object(m.jsx)("div",{children:Object(m.jsxs)(S.a,{children:[this.state.loading?Object(m.jsx)(D.a,{withOverlay:!0}):Object(m.jsx)(m.Fragment,{}),Object(m.jsx)(k.a,{id:"name",invalidText:"A valid value is required",invalid:this.state.invalidName,labelText:"Name",placeholder:"John Doe",name:"name",onChange:this.handleChange,value:this.state.name}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"bx--form-item bx--text-input-wrapper",children:Object(m.jsx)("label",{for:"phone",class:"bx--label",children:"Phone"})}),Object(m.jsxs)("div",{class:"bx--text-input__field-wrapper",children:[Object(m.jsx)("input",{className:"bx--text-input bx--text__input",placeholder:"+91",style:{maxWidth:"12%"},name:"code",onChange:this.handleChange,value:this.state.code}),Object(m.jsx)("span",{style:{width:"3%"},children:" - "}),Object(m.jsx)("input",{className:"bx--text-input bx--text__input",placeholder:"9876543210",style:{maxWidth:"85%"},name:"phone",onChange:this.handleChange,value:this.state.phone})]}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a,{id:"address",invalidText:"A valid value is required",invalid:this.state.invalidAddress,labelText:"Address",placeholder:"Random Address",name:"address",onChange:this.handleChange,value:this.state.address}),Object(m.jsx)("br",{}),Object(m.jsx)(T.a,{id:"default",titleText:"Dropdown label",helperText:"Kindly select premium payment method",label:"Monthly",direction:"top",items:[{id:"option-0",text:"Monthly",option:"monthly",dateAdd:1},{id:"option-1",text:"Quarterly",option:"quarterly",dateAdd:3},{id:"option-2",text:"Semi-Annually",option:"semiAnnually",dateAdd:6},{id:"option-3",text:"Annually",option:"annually",dateAdd:12}],light:!0,itemToString:function(e){return e?e.text:""},onChange:function(t){e.setState({payment:t.selectedItem.option,dateAdd:t.selectedItem.dateAdd})}}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a,{disabled:!0,id:"amount",labelText:"Amount payable ".concat(this.state.payment),placeholder:"Amount",name:"address",onChange:this.handleChange,value:this.state.amount*this.state.dateAdd}),Object(m.jsx)("br",{})]})})}),Object(m.jsx)("div",{className:"bx--col-lg-4 bx--offset-lg-2",children:Object(m.jsxs)(M.a,{style:{color:"white",backgroundColor:"rgb(61,61,61)"},children:[Object(m.jsx)("img",{src:J,style:{maxWidth:"-webkit-fill-available"}}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",paddingBottom:"1.2rem",paddingTop:"1.2rem"},children:Object(m.jsx)("h1",{className:"landing-page__heading",style:{paddingBottom:"1rem"},children:t[0].text})}),Object(m.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:[Object(m.jsx)("h2",{children:t[0].base}),Object(m.jsxs)("span",{style:{display:"inline-block"},children:[Object(m.jsx)("sup",{style:{position:"relative",display:"block",lineHeight:"1.2"},children:"Rs"}),Object(m.jsx)("sub",{style:{position:"relative",display:"block",lineHeight:"2"},children:"/mo"})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:Object(m.jsxs)(I.a,{children:[Object(m.jsx)(A.a,{style:{color:"white"},children:"Full Life Coverage"}),Object(m.jsx)(A.a,{style:{color:"white"},children:"Payable Monthly / Quarterly"}),Object(m.jsx)(A.a,{style:{color:"white"},children:"Unordered list level 1"})]})}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:[Object(m.jsx)(U.a,{kind:"primary",size:"small",onClick:function(){e.setState({modalOpen:!0,selected:t[0],amount:t[0].base})},children:"Buy now"}),Object(m.jsx)("br",{})]})]})}),Object(m.jsx)("div",{className:"bx--col-lg-4",children:Object(m.jsxs)(M.a,{style:{color:"white",backgroundColor:"rgb(61,61,61)"},children:[Object(m.jsx)("img",{src:J,style:{maxWidth:"-webkit-fill-available"}}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",paddingBottom:"1.2rem",paddingTop:"1.2rem"},children:Object(m.jsx)("h1",{className:"landing-page__heading",style:{paddingBottom:"1rem"},children:t[1].text})}),Object(m.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:[Object(m.jsx)("h2",{children:t[1].base}),Object(m.jsxs)("span",{style:{display:"inline-block"},children:[Object(m.jsx)("sup",{style:{position:"relative",display:"block",lineHeight:"1.2"},children:"Rs"}),Object(m.jsx)("sub",{style:{position:"relative",display:"block",lineHeight:"2"},children:"/mo"})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:Object(m.jsxs)(I.a,{children:[Object(m.jsx)(A.a,{style:{color:"white"},children:"Full Life Coverage"}),Object(m.jsx)(A.a,{style:{color:"white"},children:"Payable Monthly / Quarterly"}),Object(m.jsx)(A.a,{style:{color:"white"},children:"Unordered list level 1"})]})}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:[Object(m.jsx)(U.a,{kind:"primary",size:"small",onClick:function(){e.setState({modalOpen:!0,selected:t[1],amount:t[1].base})},children:"Buy now"}),Object(m.jsx)("br",{})]})]})}),Object(m.jsx)("div",{className:"bx--col-lg-4",children:Object(m.jsxs)(M.a,{style:{color:"white",backgroundColor:"rgb(61,61,61)"},children:[Object(m.jsx)("img",{src:J,style:{maxWidth:"-webkit-fill-available"}}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",paddingBottom:"1.2rem",paddingTop:"1.2rem"},children:Object(m.jsx)("h1",{className:"landing-page__heading",style:{paddingBottom:"1rem"},children:t[2].text})}),Object(m.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:[Object(m.jsx)("h2",{children:t[2].base}),Object(m.jsxs)("span",{style:{display:"inline-block"},children:[Object(m.jsx)("sup",{style:{position:"relative",display:"block",lineHeight:"1.2"},children:"Rs"}),Object(m.jsx)("sub",{style:{position:"relative",display:"block",lineHeight:"2"},children:"/mo"})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:Object(m.jsxs)(I.a,{children:[Object(m.jsx)(A.a,{style:{color:"white"},children:"Full Life Coverage"}),Object(m.jsx)(A.a,{style:{color:"white"},children:"Payable Monthly / Quarterly"}),Object(m.jsx)(A.a,{style:{color:"white"},children:"Unordered list level 1"})]})}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:[Object(m.jsx)(U.a,{kind:"primary",size:"small",onClick:function(){e.setState({modalOpen:!0,selected:t[2],amount:t[2].base})},children:"Buy now"}),Object(m.jsx)("br",{})]})]})})]})]}),this.state.table?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{id:"section3",ref:this.section3,style:{paddingTop:"3rem"}}),Object(m.jsxs)("div",{style:{height:"100vh"},children:[Object(m.jsxs)("div",{className:"bx--row landing-page__banner",style:{padding:"2rem",justifyContent:"center",alignItems:"center",height:"10rem",backgroundColor:"rgb(61,61,61)"},children:[Object(m.jsxs)("div",{className:"bx--col-lg-10 bx--offset-lg-2",children:[Object(m.jsx)("h1",{className:"landing-page__heading",style:{color:"white"},children:"View our Clients"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{style:{color:"white"}}),Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:"bx--col-lg-4 ",style:{paddingTop:"0"}})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"bx--row",style:{padding:"2rem",paddingBottom:"6rem",margin:"0"},children:Object(m.jsx)("div",{className:"bx--col-lg-12 bx--offset-lg-2",children:Object(m.jsxs)(B.a,{children:[Object(m.jsx)(R.a,{children:Object(m.jsx)(P.a,{children:this.state.headers.map((function(e){return Object(m.jsx)(E.a,{children:e},e)}))})}),Object(m.jsx)(L.a,{children:this.state.data.map((function(e){return Object(m.jsx)(P.a,{children:Object.keys(e).filter((function(e){return"id"!==e})).map((function(t){return Object(m.jsx)(F.a,{children:e[t]},t)}))},e.id)}))})]})})})]})]}):Object(m.jsx)("div",{})]})}}]),a}(s.a.Component);var Re=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{}),Object(m.jsx)("div",{style:{marginTop:"3rem"},children:Object(m.jsx)(g.c,{children:Object(m.jsx)(g.a,{exact:!0,path:"/",component:Be})})})]})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))},Ee=n(33);c.a.render(Object(m.jsx)(Ee.a,{children:Object(m.jsx)(Re,{})}),document.getElementById("root")),Pe()},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},73:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.5ae3c09b.chunk.js.map